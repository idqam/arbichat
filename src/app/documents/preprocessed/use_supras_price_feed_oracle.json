{
  "document": "use_supras_price_feed_oracle",
  "chunks": [
    {
      "id": "use_supras_price_feed_oracle.mdx_chunk_0",
      "content": "***\n\nid: 'supras-price-feed'\ntitle: 'Supra, price feed oracle'\ndescription: 'Learn how to use Supra price feed oracle'\nauthor: ksdumont\nsme: ksdumont\nsidebar\\_label: 'How to use Supra price feed oracle'\n----------------------------------------------------\n\n:::info Community member contribution\n\nShoutout to [@ksdumont](https://github.com/ksdumont) for contributing the following [third-party document](/for-devs/third-party-docs/contribute)! :::\n\nSupra is a novel, high-throughput Oracle & IntraLayer: A vertically integrated toolkit of cross-chain solutions (data oracles, asset bridges, automation network, and more) that interlink all blockchains, public (L1s and L2s) or private (enterprises). Integrating with Supra's price feeds is quick and easy. Supra currently supports several Solidity/EVM-based networks, like Arbitrum, and non-EVM networks like Sui, Aptos. To see all of the networks Supra is on, please visit [Supras' Networks](https://supraoracles.com/docs/price-feeds/networks)! To get started, you will want to visit [Supras' docs site](https://supraoracles.com/docs/price-feeds/) and review the documentation or continue to follow this guide for a quick start."
    },
    {
      "id": "use_supras_price_feed_oracle.mdx_chunk_1",
      "content": "### Step 1: Create The S-Value interface\n\nAdd the following code to the solidity smart contract that you wish to retrieve an S-Value. ```\ninterface ISupraSValueFeed {\n\n    function getSvalue(uint64 _pairIndex) external view returns (bytes32, bool);\n\n    function getSvalues(uint64[] memory _pairIndexes) external view returns (bytes32[] memory, bool[] memory);\n\n}\n```\n\nThis creates the interface that you will later apply in order to fetch a price from SupraOracles. ### Step 2: Configure The S-Value feed address\n\nTo fetch the S-Value from a SupraOracles smart contract, you must first find the S-Value feed address for the chain of your choice."
    },
    {
      "id": "use_supras_price_feed_oracle.mdx_chunk_2",
      "content": "For Arbitrum, the address is [0x8a358F391d93f7558D5F5E61BDf533e2cc3Cf7a3](https://arbiscan.io/address/0x8a358f391d93f7558d5f5e61bdf533e2cc3cf7a3)\n\nWhen you have the proper address, create an instance of the S-Value feed using the interface we previously defined for Arbitrum:\n\n```\ncontract ISupraSValueFeedExample {\n    ISupraSValueFeed internal sValueFeed;\n    constructor() {\n        sValueFeed = ISupraSValueFeed(0x8a358F391d93f7558D5F5E61BDf533e2cc3Cf7a3);\n    }\n}\n```\n\n### Step 3: Add unpack function to decode response for S-Value feed\n\nTo decode S-value response from SupraOracles smart contract, you need to add the following code in your contract."
    },
    {
      "id": "use_supras_price_feed_oracle.mdx_chunk_3",
      "content": "```\n// Some codefunction unpack(bytes32 data) internal pure returns(uint256[4] memory) {\n        uint256[4] memory info;\n\n        info[0] = bytesToUint256(abi.encodePacked(data >> 192));       // round\n        info[1] = bytesToUint256(abi.encodePacked(data << 64 >> 248)); // decimal\n        info[2] = bytesToUint256(abi.encodePacked(data << 72 >> 192)); // timestamp\n        info[3] = bytesToUint256(abi.encodePacked(data << 136 >> 160)); // price\n\n        return info;\n    }\n\n    function bytesToUint256(bytes memory _bs) internal pure returns (uint256 value) {\n        require(_bs.length == 32, \"bytes length is not 32.\");\n        assembly {\n            value := mload(add(_bs, 0x20))\n        }\n    }\n```\n\n### Step 4: Get the S-Value crypto price\n\nNow you can simply access the S-Value crypto price of our supported market pairs. In this step, we'll get the price of single or multiple trading pairs in our smart contract."
    },
    {
      "id": "use_supras_price_feed_oracle.mdx_chunk_4",
      "content": "```\nfunction getPrice(uint64 _priceIndex) external view returns (uint256[4] memory) {\n\n        (bytes32 val,)= sValueFeed.getSvalue(_priceIndex);\n\n        uint256[4] memory decoded = unpack(val);\n\n        return decoded;\n}\n\nfunction getPriceForMultiplePair(uint64[] memory _pairIndexes) external view returns (uint256[4][] memory) {\n\n        (bytes32[] memory val, ) = sValueFeed.getSvalues(_pairIndexes);\n\n        uint256[4][] memory decodedArray = new uint256[4][](val.length);\n\n        for(uint i=0; i< val.length; i++){\n\n            uint256[4] memory decoded = unpack(val[i]);\n            decodedArray[i] = decoded;\n        }\n\n        return decodedArray;\n}\n```\n\nTada! You now have a method in your smart contract that you can call at any time to retrieve the price of any crypto pair! ## Going further with Supra\n\nIf you want to take the next step, consider registering for the [Supra Network Activate Program (SNAP)](https://join.supraoracles.com/network-activate-program). The Supra Network Activate Program (SNAP) offers companies discounted oracle credits, technical documentation, and customer support to embed much-needed oracles and VRF/RNG."
    },
    {
      "id": "use_supras_price_feed_oracle.mdx_chunk_5",
      "content": "SNAP supports Web3 scaling and growth to buffer costs which could typically inhibit a companyâ€™s success. The SNAP program is partnered with some of Web3's most prolific names who are helping with project selection and qualification. ## Connect with us! Still looking for answers? We got them! Check out all the ways you can reach us:\n\n* Visit us at [supraoracles.com](https://supraoracles.com)\n* Read our [Docs](https://supraoracles.com/docs/overview)\n* Chat with us on [Telegram](https://t.me/SupraOracles)\n* Follow us on [Twitter](https://twitter.com/SupraOracles)\n* Join our [Discord](https://discord.gg/supraoracles)\n* Check us out on [Youtube](https://www.youtube.com/SupraOfficial)"
    }
  ]
}